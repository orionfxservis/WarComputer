<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>War Computers — Admin Panel</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;}
    body{background:#000;color:#fff;overflow-x:hidden;}

    /* Background Slideshow */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 150%;
      height: 100%;
      background: url('images/WC_BG1.jpg') repeat-x center/cover;
      animation: slideBg 30s linear infinite;
      z-index: -2;
      filter: blur(6px) brightness(0.4);
    }
    @keyframes slideBg {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    header{display:flex;align-items:center;justify-content:space-between;
      padding:10px 40px;background:rgba(0,0,0,0.9);
      position:fixed;top:0;left:0;width:100%;z-index:1000;
      box-shadow:0 2px 6px rgba(0,0,0,0.6);}
    header img.logo{height:50px;border-radius:8px;}
    nav ul{display:flex;gap:20px;list-style:none;}
    nav ul li a{padding:8px 14px;color:#fff;transition:0.3s;border-radius:6px;}
    nav ul li a:hover,nav ul li a.active{background:orange;color:#000;}

    section{padding:100px 40px 60px;}
    h2{text-align:center;margin-top:100px;margin-bottom:20px;font-size:34px;color:orange;}

    .admin-wrapper{display:flex;align-items:center;justify-content:center;gap:20px;min-height:70vh;}
    .ad-box{width:120px;height:480px;background:rgba(255,140,0,0.15);
      border:2px dashed #b35c00;color:orange;display:flex;align-items:center;
      justify-content:center;font-size:14px;text-align:center;position:sticky;top:120px;}

    .admin-form{background:#111;padding:20px;border-radius:10px;
      box-shadow:0 0 10px rgba(255,140,0,0.4);max-width:600px;flex:1;}
    .admin-form label{display:block;margin:8px 0 4px;}
    .admin-form input,.admin-form textarea{width:100%;padding:8px;
      margin-bottom:10px;border:none;border-radius:6px;}
    .admin-form .actions{display:flex;align-items:center;justify-content:space-between;gap:10px;}
    .admin-form button{background:orange;color:#000;padding:10px 18px;
      border:none;border-radius:6px;cursor:pointer;transition:0.3s;}
    .admin-form button:hover{background:#fff;color:orange;}

    .product-list{margin-top:30px;}
    .product-list table{width:100%;border-collapse:collapse;background:#111;
      box-shadow:0 0 10px rgba(255,140,0,0.3);}
    .product-list th,.product-list td{border:1px solid #333;padding:10px;text-align:left;}
    .product-list th{background:#222;color:orange;}
    .product-list td button{padding:6px 10px;margin-right:6px;border:none;
      border-radius:4px;cursor:pointer;}
    .edit-btn{background:#ffa500;color:#000;}
    .delete-btn{background:#ff4444;color:#fff;}

    footer{background:#111;padding:20px 40px;}
    .footer-container{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;}
    .footer-container .socials a{margin:0 8px;font-size:20px;color:orange;transition:0.3s;}
    .footer-container .socials a:hover{color:#fff;}
    .footer-container p{margin:0;text-align:center;flex:1;color:#aaa;}

    #goTopBtn{display:none;position:fixed;bottom:30px;right:30px;z-index:99;
      font-size:18px;border:none;background:orange;color:#000;cursor:pointer;
      padding:12px 18px;border-radius:6px;transition:opacity 0.5s ease;opacity:0;}
    #goTopBtn.show{display:block;opacity:1;}
  </style>
</head>
<body>

  <header>
    <img src="images/logo.png" alt="Logo" class="logo" />
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="index.html#products">Products</a></li>
        <li><a href="index.html#contact">Contact</a></li>
        <li><a href="admin.html" class="active">Admin</a></li>
      </ul>
    </nav>
  </header>

  <section id="admin">
    <h2>Admin Panel</h2>
    <div class="admin-wrapper">
      <div class="ad-box">Banner</div>
      <form class="admin-form" id="adminForm">
        <label>Product Name</label>
        <input type="text" id="pname" required />

        <label>Model</label>
        <input type="text" id="pmodel" required />

        <label>Specifications</label>
        <textarea id="pspecs" rows="3"></textarea>

        <label>Price</label>
        <input type="text" id="pprice" required />

        <label>Upload Images (comma separated filenames)</label>
        <input type="text" id="pimages" placeholder="eg: img1.jpg,img2.jpg" />

        <div class="actions">
          <div>
            <input type="checkbox" id="poffer" />
            <label for="poffer">Special Offer</label>
          </div>
          <button type="submit">Save Product</button>
        </div>
      </form>
      <div class="ad-box">Banner</div>
    </div>

    <div class="product-list">
      <h2>Products List</h2>
      <table id="productsTable">
        <thead>
          <tr>
            <th>Name</th>
            <th>Model</th>
            <th>Specs</th>
            <th>Price</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>

  <footer>
    <div class="footer-container">
      <div class="socials">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-linkedin"></i></a>
        <a href="#"><i class="fab fa-whatsapp"></i></a>
      </div>
      <p>&copy; 2025 War Computers. Admin Panel</p>
      <button id="goTopBtn">↑ Top</button>
    </div>
  </footer>

  <script>
  // ✅ Preloaded JSON products
  const demoProducts = [
    {
      name: "HP Chromebook",
      model: "14a-na1003dx",
      specs: "Intel Celeron N4020, 4GB RAM, 64GB eMMC, ChromeOS",
      price: "$249",
      images: ["images/hp1.jpg","images/hp2.jpg"],
      offer: true
    },
    {
      name: "Dell Inspiron",
      model: "15 3511",
      specs: "Intel i3-1115G4, 8GB RAM, 256GB SSD, Windows 11",
      price: "$499",
      images: ["images/dell1.jpg","images/dell2.jpg"],
      offer: false
    }
  ];
  if(!localStorage.getItem("products")){
    localStorage.setItem("products", JSON.stringify(demoProducts));
  }

  // Go To Top
  const goTop=document.getElementById("goTopBtn");
  window.onscroll=()=>{if(document.documentElement.scrollTop>200){goTop.classList.add("show");}else{goTop.classList.remove("show");}};
  goTop.onclick=()=>window.scrollTo({top:0,behavior:"smooth"});

  // Load existing products
  const productsTable=document.getElementById("productsTable").querySelector("tbody");
  function loadProducts(){
    productsTable.innerHTML="";
    const products=JSON.parse(localStorage.getItem("products"))||[];
    products.forEach((p,i)=>{
      const row=document.createElement("tr");
      row.innerHTML=`
        <td>${p.name}</td>
        <td>${p.model}</td>
        <td>${p.specs}</td>
        <td>${p.price}</td>
        <td>
          <button class="edit-btn" data-index="${i}">Edit</button>
          <button class="delete-btn" data-index="${i}">Delete</button>
        </td>
      `;
      productsTable.appendChild(row);
    });
  }
  loadProducts();

  let editIndex=-1;

  // Save product
  document.getElementById("adminForm").onsubmit=function(e){
    e.preventDefault();
    const products=JSON.parse(localStorage.getItem("products"))||[];
    const product={
      name:document.getElementById("pname").value,
      model:document.getElementById("pmodel").value,
      specs:document.getElementById("pspecs").value,
      price:document.getElementById("pprice").value,
      images:document.getElementById("pimages").value.split(",").map(i=>i.trim()).filter(i=>i),
      offer:document.getElementById("poffer").checked
    };

    if(editIndex===-1){
      products.push(product);
      alert("✅ Product Added!");
    } else {
      products[editIndex]=product;
      alert("✏️ Product Updated!");
      editIndex=-1;
      document.querySelector("#adminForm button[type='submit']").textContent="Save Product";
    }

    localStorage.setItem("products",JSON.stringify(products));
    this.reset();
    loadProducts();
  };

  // Edit/Delete
  document.addEventListener("click",function(e){
    const products=JSON.parse(localStorage.getItem("products"))||[];
    if(e.target.classList.contains("delete-btn")){
      const i=e.target.dataset.index;
      products.splice(i,1);
      localStorage.setItem("products",JSON.stringify(products));
      loadProducts();
    }
    if(e.target.classList.contains("edit-btn")){
      const i=e.target.dataset.index;
      const p=products[i];
      document.getElementById("pname").value=p.name;
      document.getElementById("pmodel").value=p.model;
      document.getElementById("pspecs").value=p.specs;
      document.getElementById("pprice").value=p.price;
      document.getElementById("pimages").value=p.images.join(",");
      document.getElementById("poffer").checked=p.offer;
      editIndex=i;
      document.querySelector("#adminForm button[type='submit']").textContent="Update Product";
    }
  });
  </script>
</body>
</html>
